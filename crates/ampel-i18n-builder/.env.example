# Ampel i18n Builder - Environment Variables
# Copy this file to .env and fill in your API keys

# ============================================================================
# Translation Provider API Keys (4-Tier Architecture)
# ============================================================================
# At least one provider key is required for translation functionality
#
# Recommended Setup:
#   - Tier 1 (Systran): Primary provider for all languages
#   - Tier 2 (DeepL): High-quality European languages
#   - Tier 3 (Google): Broad coverage for Asian/Middle Eastern languages
#   - Tier 4 (OpenAI): Fallback for complex content (optional, expensive)
#
# The system automatically falls back to next tier on provider failure

# Tier 1: SYSTRAN Translation API (Primary - Recommended)
# Best for: All languages with enterprise-grade quality
# Rate limit: 100 req/sec | Batch size: 50 texts
# Cost: ~$20 per million characters
# Get your key at: https://platform.systran.net/
SYSTRAN_API_KEY=your_systran_key_here

# Tier 2: DeepL Translation API (High Quality - Recommended)
# Best for: European languages (de, fr, fi, sv, pl, cs, etc.)
# Rate limit: 10 req/sec | Batch size: 50 texts
# Cost: Free tier available, ~$25/M chars paid
# Get your key at: https://www.deepl.com/pro-api
DEEPL_API_KEY=your_deepl_key_here

# Tier 3: Google Cloud Translation API (Broad Coverage - Recommended)
# Best for: Asian/Middle Eastern languages (ar, th, vi, zh, ja)
# Rate limit: 100 req/sec | Batch size: 100 texts
# Cost: ~$20 per million characters
# Get your key at: https://console.cloud.google.com/apis/credentials
GOOGLE_API_KEY=your_google_api_key_here

# Tier 4: OpenAI API (Fallback - Optional)
# Best for: Complex technical content, placeholder-heavy translations
# Rate limit: Unlimited (token-based) | Batch size: Unlimited
# Cost: ~$500 per million characters (EXPENSIVE!)
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# ============================================================================
# Optional: Global Configuration Overrides
# ============================================================================
# These settings override values in .ampel-i18n.yaml configuration file
# CLI parameters override these environment variables

# Request timeout in seconds (default: 30)
# Applies to all providers unless overridden per-provider
AMPEL_I18N_TIMEOUT_SECS=45

# Translation batch size (default: 50)
# Maximum number of texts to translate in a single request
AMPEL_I18N_BATCH_SIZE=50

# Retry attempts for failed requests (default: 3)
# Number of retry attempts before falling back to next tier
AMPEL_I18N_MAX_RETRIES=3

# ============================================================================
# Optional: Caching and Logging
# ============================================================================

# Redis cache URL (if using redis-cache feature)
# Enables persistent caching across restarts
# REDIS_URL=redis://127.0.0.1:6379

# Log level (trace, debug, info, warn, error)
# Use 'debug' for detailed provider selection and fallback logs
# Use 'info' for standard operation logs
RUST_LOG=info

# ============================================================================
# Configuration Precedence (Highest to Lowest)
# ============================================================================
# 1. CLI parameters (e.g., --timeout 60)
# 2. System environment variables (this file when sourced)
# 3. .env file (this file when loaded)
# 4. .ampel-i18n.yaml configuration file
# 5. Default values (built-in fallbacks)
#
# Example:
#   cargo i18n translate --lang fi --timeout 60
#   → Uses 60s timeout (CLI override)
#
#   export AMPEL_I18N_TIMEOUT_SECS=45
#   cargo i18n translate --lang fi
#   → Uses 45s timeout (environment variable)
#
#   cargo i18n translate --lang fi
#   → Uses .ampel-i18n.yaml or default value
