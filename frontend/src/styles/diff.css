/**
 * Custom Diff Viewer Styling
 *
 * Extends @git-diff-view/react with Ampel-specific theming
 */

/* Import base diff view styles */
@import '@git-diff-view/react/styles/diff-view.css';

/* Container */
.diff-viewer-container {
  border-radius: 0.375rem;
  @apply border bg-card;
}

/* Override diff view colors to match Ampel theme */
.diff-view {
  @apply text-sm font-mono;
}

/* Line numbers */
.diff-line-number {
  @apply text-muted-foreground select-none;
}

/* Added lines */
.diff-line-add {
  @apply bg-green-50 dark:bg-green-950/20;
}

.diff-line-add-gutter {
  @apply bg-green-100 dark:bg-green-900/30 border-l-2 border-green-600;
}

/* Deleted lines */
.diff-line-delete {
  @apply bg-red-50 dark:bg-red-950/20;
}

.diff-line-delete-gutter {
  @apply bg-red-100 dark:bg-red-900/30 border-l-2 border-red-600;
}

/* Modified/changed text highlighting */
.diff-line-change {
  @apply bg-yellow-50 dark:bg-yellow-950/20;
}

/* Context lines (unchanged) */
.diff-line-context {
  @apply bg-background;
}

/* Split view specific */
.diff-view-split {
  @apply grid grid-cols-2 gap-0;
}

.diff-view-split-left,
.diff-view-split-right {
  @apply overflow-x-auto;
}

/* Hunk headers */
.diff-hunk-header {
  @apply bg-muted text-muted-foreground font-semibold py-1 px-3 text-xs;
}

/* Widget areas (for comments, etc) */
.diff-widget-area {
  @apply bg-accent/50 p-2;
}

/* Syntax highlighting overrides */
.diff-syntax-keyword {
  @apply text-blue-600 dark:text-blue-400 font-semibold;
}

.diff-syntax-string {
  @apply text-green-700 dark:text-green-400;
}

.diff-syntax-comment {
  @apply text-gray-500 dark:text-gray-400 italic;
}

.diff-syntax-function {
  @apply text-purple-600 dark:text-purple-400;
}

.diff-syntax-number {
  @apply text-orange-600 dark:text-orange-400;
}

/* Search highlighting */
.diff-search-highlight {
  @apply bg-yellow-200 dark:bg-yellow-800 outline outline-2 outline-yellow-500;
}

.diff-search-active {
  @apply bg-orange-300 dark:bg-orange-700 outline outline-2 outline-orange-600;
}

/* Expand/collapse indicators */
.diff-expand-indicator {
  @apply text-blue-600 dark:text-blue-400 cursor-pointer hover:bg-accent transition-colors;
}

/* Custom scrollbar for diff areas */
.diff-viewer-container ::-webkit-scrollbar {
  @apply h-2 w-2;
}

.diff-viewer-container ::-webkit-scrollbar-track {
  @apply bg-muted;
}

.diff-viewer-container ::-webkit-scrollbar-thumb {
  border-radius: 9999px;
  @apply bg-border;
}

.diff-viewer-container ::-webkit-scrollbar-thumb:hover {
  @apply bg-border/80;
}

/* File header styling */
.diff-file-header {
  @apply font-semibold text-sm p-2 bg-muted border-b flex items-center justify-between;
}

/* Binary file indicator */
.diff-binary-file {
  @apply text-center p-8 text-muted-foreground;
}

/* Loading state */
.diff-loading {
  border-radius: 0.375rem;
  @apply animate-pulse bg-muted h-96;
}

/* Error state */
.diff-error {
  border-radius: 0.375rem;
  @apply text-destructive p-4 border border-destructive;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .diff-view {
    @apply text-xs;
  }

  .diff-view-split {
    @apply grid-cols-1;
  }
}

/* Print styles */
@media print {
  .diff-viewer-container {
    @apply border-0;
  }

  .diff-line-add {
    @apply bg-white;
    border-left: 3px solid #22c55e;
  }

  .diff-line-delete {
    @apply bg-white;
    border-left: 3px solid #ef4444;
  }
}
